#+OPTIONS: reveal_title_slide:nil num:nil
#+REVEAL_THEME: black

* Hello!
** Robert Dallas Gray
robert@geo.me
* Geo.me
* Geospatial applications
** 
  :PROPERTIES:
  :reveal_background: ./btwifiapi.gif
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./mma.gif
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./btwifi.gif
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./btsport.gif
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./bupa.gif
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./bp.gif
  :END:
* Simple things
#+ATTR_REVEAL: :frag t
Performantly
#+ATTR_REVEAL: :frag t
At scale
* 
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
** EC2
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
  API servers, load balancing, scaling 
** RDS
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Databases (Postgres/GIS)
** S3
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Static file storage, artefacts 
** Route 53
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Routing
** Elasticache
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Ephemeral storage, caching
** SQS, SNS
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Fanning to queues for offline tasks
** CloudFront
  :PROPERTIES:
  :reveal_background: ./aws.svg
  :END:
Edge caching and ... ?
* Serverless Architecture
** 
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-rds.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-ec2.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-asg.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-elb.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-cf.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-route53.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-dynamo.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-lambda.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-api-gateway.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./aws-architecture-s3.svg
  :reveal_background_size: 400px
  :END:
** Replacing servers with services
** Serverless
** Less Servers
** Fewer Servers
* 
  :PROPERTIES:
  :reveal_background: ./api-server.svg
  :reveal_background_size: 400px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-rails.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-jquery.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-jquery-2.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-jquery-3.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-jquery-4.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-jquery-5.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-rails.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-bb.svg
  :reveal_background_size: 1080px
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./api-server-bb-s3.svg
  :reveal_background_size: 1080px
  :END:
** Same Origin Policy
  :PROPERTIES:
  :reveal_background: ./api-server-bb-s3-50pc.svg
  :reveal_background_size: 1080px
  :END:
#+ATTR_REVEAL: :frag t
URI scheme
#+ATTR_REVEAL: :frag t
Hostname
#+ATTR_REVEAL: :frag t
Port number
** 
  :PROPERTIES:
  :reveal_background: ./api-server-bb-s3-tp.svg
  :reveal_background_size: 1080px
  :END:
** CORS!
  :PROPERTIES:
  :reveal_background: ./api-server-bb-s3-50pc.svg
  :reveal_background_size: 1080px
  :END:
** CORS!
  :PROPERTIES:
  :reveal_background: ./moss-fire.gif
  :END:
** CORS!
  :PROPERTIES:
  :reveal_background: ./chicken-feast.gif
  :END:
** 
  :PROPERTIES:
  :reveal_background: ./ns.gif
  :reveal_background_size: 600px
  :END:
** 
** We moved to using small Nginx servers in EC2

Proxying inside Nginx so that a path (/api) proxied to the API server (DIAGRAM).

This was better but still a pain.

- We had to maintain a full production environment for each app (scaling, load-balancing etc.)
- There were issues with Nginx caching DNSs, so when a back-end was
  redeployed everything stopped working
- Expensive

** We reckoned we could use CloudFront for proxying

(DIAGRAM -- CF, S3, API Server)

- SSL on CloudFront was prohibitively expensive (Find out exactly how much)
- SNI didn't work with technologies we needed (Find out which ones)

** Google stopped supporting something

(Find out what)

It meant we could use SNI (DIAGRAM)
